# serverless-ec-site ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹ã‚¹ã‚­ãƒ¼ãƒ

**ä½œæˆæ—¥**: 2026-01-11
**é–¢é€£è¨­è¨ˆ**: [architecture.md](architecture.md)
**ãƒ‡ãƒ¼ã‚¿ãƒ™ãƒ¼ã‚¹**: Amazon DynamoDB

**ã€ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«å‡¡ä¾‹ã€‘**:
- ğŸ”µ **é’ä¿¡å·**: ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ã‚’å‚è€ƒã«ã—ãŸç¢ºå®Ÿãªå®šç¾©
- ğŸŸ¡ **é»„ä¿¡å·**: ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ã‹ã‚‰å¦¥å½“ãªæ¨æ¸¬ã«ã‚ˆã‚‹å®šç¾©
- ğŸ”´ **èµ¤ä¿¡å·**: ã‚¿ã‚¹ã‚¯ãƒãƒ¼ãƒˆãƒ»ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ã«ãªã„æ¨æ¸¬ã«ã‚ˆã‚‹å®šç¾©

---

## ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆæ¦‚è¦ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆã‚ˆã‚Š*

DynamoDBã®ã‚·ãƒ³ã‚°ãƒ«ãƒ†ãƒ¼ãƒ–ãƒ«è¨­è¨ˆã‚’æ¡ç”¨ã—ã€ä»¥ä¸‹ã®ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ã‚’ç®¡ç†ã™ã‚‹:

- Usersï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰
- Productsï¼ˆå•†å“ï¼‰
- Categoriesï¼ˆã‚«ãƒ†ã‚´ãƒªï¼‰
- Cartsï¼ˆã‚«ãƒ¼ãƒˆï¼‰
- Ordersï¼ˆæ³¨æ–‡ï¼‰

## ãƒ†ãƒ¼ãƒ–ãƒ«æ§‹æˆ

### ãƒ¡ã‚¤ãƒ³ãƒ†ãƒ¼ãƒ–ãƒ«: `ec-site-main` ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£è¨­è¨ˆã‚ˆã‚Š*

| å±æ€§ | å‹ | èª¬æ˜ |
|------|-----|------|
| PK | String | ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ |
| SK | String | ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ |
| GSI1PK | String | GSI1ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ |
| GSI1SK | String | GSI1ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ |
| GSI2PK | String | GSI2ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ |
| GSI2SK | String | GSI2ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ |
| TTL | Number | æœ‰åŠ¹æœŸé™ï¼ˆUnix timestampï¼‰ |

### ã‚°ãƒ­ãƒ¼ãƒãƒ«ã‚»ã‚«ãƒ³ãƒ€ãƒªã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ˆã‚Š*

| ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ | ãƒ‘ãƒ¼ãƒ†ã‚£ã‚·ãƒ§ãƒ³ã‚­ãƒ¼ | ã‚½ãƒ¼ãƒˆã‚­ãƒ¼ | ç”¨é€” |
|-------------|-------------------|-----------|------|
| GSI1 | GSI1PK | GSI1SK | ãƒ¡ãƒ¼ãƒ«æ¤œç´¢ã€ã‚«ãƒ†ã‚´ãƒªåˆ¥å•†å“ã€ãƒ¦ãƒ¼ã‚¶ãƒ¼åˆ¥æ³¨æ–‡ |
| GSI2 | GSI2PK | GSI2SK | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥æ³¨æ–‡ã€æ¤œç´¢ç”¨ |

---

## ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£è¨­è¨ˆ

### Usersï¼ˆãƒ¦ãƒ¼ã‚¶ãƒ¼ï¼‰ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ï¼ˆèªè¨¼æ©Ÿèƒ½ï¼‰ã‚ˆã‚Š*

| å±æ€§ | å‹ | ã‚­ãƒ¼ | èª¬æ˜ |
|------|-----|------|------|
| PK | String | PK | `USER#{userId}` |
| SK | String | SK | `PROFILE` |
| email | String | - | ãƒ¡ãƒ¼ãƒ«ã‚¢ãƒ‰ãƒ¬ã‚¹ï¼ˆä¸€æ„ï¼‰ |
| name | String | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼å |
| locale | String | - | è¨€èªè¨­å®š (ja/en/ko) |
| addresses | List | - | é…é€å…ˆä½æ‰€ãƒªã‚¹ãƒˆ |
| createdAt | String | - | ä½œæˆæ—¥æ™‚ (ISO8601) |
| updatedAt | String | - | æ›´æ–°æ—¥æ™‚ (ISO8601) |
| GSI1PK | String | GSI1PK | `EMAIL#{email}` |
| GSI1SK | String | GSI1SK | `USER` |

**ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- ãƒ¦ãƒ¼ã‚¶ãƒ¼IDå–å¾—: `PK = USER#{userId}, SK = PROFILE`
- ãƒ¡ãƒ¼ãƒ«ã§æ¤œç´¢: `GSI1PK = EMAIL#{email}, GSI1SK = USER`

### Categoriesï¼ˆã‚«ãƒ†ã‚´ãƒªï¼‰ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ï¼ˆå•†å“ã‚«ã‚¿ãƒ­ã‚°ï¼‰ã‚ˆã‚Š*

| å±æ€§ | å‹ | ã‚­ãƒ¼ | èª¬æ˜ |
|------|-----|------|------|
| PK | String | PK | `CATEGORY#{categoryId}` |
| SK | String | SK | `DETAIL` |
| name | Map | - | å¤šè¨€èªå {ja, en, ko} |
| slug | String | - | URLç”¨ã‚¹ãƒ©ãƒƒã‚° |
| parentId | String | - | è¦ªã‚«ãƒ†ã‚´ãƒªIDï¼ˆnull=ãƒ«ãƒ¼ãƒˆï¼‰ |
| displayOrder | Number | - | è¡¨ç¤ºé † |
| imageUrl | String | - | ã‚«ãƒ†ã‚´ãƒªç”»åƒURL |
| createdAt | String | - | ä½œæˆæ—¥æ™‚ |
| updatedAt | String | - | æ›´æ–°æ—¥æ™‚ |
| GSI1PK | String | GSI1PK | `CATEGORIES` |
| GSI1SK | String | GSI1SK | `ORDER#{displayOrder}#{categoryId}` |

**ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- ã‚«ãƒ†ã‚´ãƒªIDå–å¾—: `PK = CATEGORY#{categoryId}, SK = DETAIL`
- å…¨ã‚«ãƒ†ã‚´ãƒªä¸€è¦§: `GSI1PK = CATEGORIES` (displayOrderé †)

### Productsï¼ˆå•†å“ï¼‰ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ï¼ˆå•†å“ã‚«ã‚¿ãƒ­ã‚°ï¼‰ã‚ˆã‚Š*

| å±æ€§ | å‹ | ã‚­ãƒ¼ | èª¬æ˜ |
|------|-----|------|------|
| PK | String | PK | `PRODUCT#{productId}` |
| SK | String | SK | `DETAIL` |
| sku | String | - | å•†å“SKU |
| name | Map | - | å¤šè¨€èªå {ja, en, ko} |
| description | Map | - | å¤šè¨€èªèª¬æ˜ {ja, en, ko} |
| price | Number | - | ä¾¡æ ¼ |
| compareAtPrice | Number | - | æ¯”è¼ƒä¾¡æ ¼ï¼ˆå‰²å¼•è¡¨ç¤ºç”¨ï¼‰ |
| currency | String | - | é€šè²¨ã‚³ãƒ¼ãƒ‰ (JPY) |
| categoryId | String | - | ã‚«ãƒ†ã‚´ãƒªID |
| images | List | - | å•†å“ç”»åƒãƒªã‚¹ãƒˆ |
| stock | Number | - | åœ¨åº«æ•° |
| isActive | Boolean | - | å…¬é–‹ãƒ•ãƒ©ã‚° |
| attributes | List | - | å•†å“å±æ€§ãƒªã‚¹ãƒˆ |
| createdAt | String | - | ä½œæˆæ—¥æ™‚ |
| updatedAt | String | - | æ›´æ–°æ—¥æ™‚ |
| GSI1PK | String | GSI1PK | `CATEGORY#{categoryId}` |
| GSI1SK | String | GSI1SK | `PRODUCT#{createdAt}#{productId}` |
| GSI2PK | String | GSI2PK | `PRODUCTS#ACTIVE` (isActive=trueæ™‚) |
| GSI2SK | String | GSI2SK | `PRICE#{price}#{productId}` |

**ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- å•†å“IDå–å¾—: `PK = PRODUCT#{productId}, SK = DETAIL`
- ã‚«ãƒ†ã‚´ãƒªåˆ¥å•†å“: `GSI1PK = CATEGORY#{categoryId}` (æ–°ç€é †)
- å…¨å•†å“ä¸€è¦§: `GSI2PK = PRODUCTS#ACTIVE` (ä¾¡æ ¼é †)
- åœ¨åº«ç¢ºèª: `PK = PRODUCT#{productId}, SK = DETAIL` â†’ stockå±æ€§

### Cartsï¼ˆã‚«ãƒ¼ãƒˆï¼‰ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ï¼ˆã‚«ãƒ¼ãƒˆãƒ»æ³¨æ–‡ï¼‰ã‚ˆã‚Š*

| å±æ€§ | å‹ | ã‚­ãƒ¼ | èª¬æ˜ |
|------|-----|------|------|
| PK | String | PK | `CART#{cartId}` |
| SK | String | SK | `ITEMS` |
| userId | String | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆä¼šå“¡ã‚«ãƒ¼ãƒˆï¼‰ |
| guestId | String | - | ã‚²ã‚¹ãƒˆIDï¼ˆã‚²ã‚¹ãƒˆã‚«ãƒ¼ãƒˆï¼‰ |
| items | List | - | ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆ |
| subtotal | Number | - | å°è¨ˆ |
| createdAt | String | - | ä½œæˆæ—¥æ™‚ |
| updatedAt | String | - | æ›´æ–°æ—¥æ™‚ |
| TTL | Number | - | æœ‰åŠ¹æœŸé™ï¼ˆã‚²ã‚¹ãƒˆã‚«ãƒ¼ãƒˆ: 7æ—¥ï¼‰ |
| GSI1PK | String | GSI1PK | `USER#{userId}` or `GUEST#{guestId}` |
| GSI1SK | String | GSI1SK | `CART` |

**ã‚«ãƒ¼ãƒˆã‚¢ã‚¤ãƒ†ãƒ æ§‹é€ **:
```json
{
  "productId": "string",
  "quantity": 0,
  "price": 0
}
```

**ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- ã‚«ãƒ¼ãƒˆIDå–å¾—: `PK = CART#{cartId}, SK = ITEMS`
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®ã‚«ãƒ¼ãƒˆ: `GSI1PK = USER#{userId}, GSI1SK = CART`
- ã‚²ã‚¹ãƒˆã®ã‚«ãƒ¼ãƒˆ: `GSI1PK = GUEST#{guestId}, GSI1SK = CART`

### Ordersï¼ˆæ³¨æ–‡ï¼‰ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ï¼ˆã‚«ãƒ¼ãƒˆãƒ»æ³¨æ–‡ã€æ±ºæ¸ˆï¼‰ã‚ˆã‚Š*

| å±æ€§ | å‹ | ã‚­ãƒ¼ | èª¬æ˜ |
|------|-----|------|------|
| PK | String | PK | `ORDER#{orderId}` |
| SK | String | SK | `DETAIL` |
| orderNumber | String | - | è¡¨ç¤ºç”¨æ³¨æ–‡ç•ªå· |
| userId | String | - | ãƒ¦ãƒ¼ã‚¶ãƒ¼IDï¼ˆä¼šå“¡æ³¨æ–‡ï¼‰ |
| guestEmail | String | - | ã‚²ã‚¹ãƒˆãƒ¡ãƒ¼ãƒ«ï¼ˆã‚²ã‚¹ãƒˆæ³¨æ–‡ï¼‰ |
| items | List | - | æ³¨æ–‡ã‚¢ã‚¤ãƒ†ãƒ ãƒªã‚¹ãƒˆ |
| shippingAddress | Map | - | é…é€å…ˆä½æ‰€ |
| billingAddress | Map | - | è«‹æ±‚å…ˆä½æ‰€ |
| subtotal | Number | - | å°è¨ˆ |
| shippingFee | Number | - | é€æ–™ |
| tax | Number | - | ç¨é‡‘ |
| total | Number | - | åˆè¨ˆ |
| currency | String | - | é€šè²¨ã‚³ãƒ¼ãƒ‰ |
| status | String | - | æ³¨æ–‡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ |
| paymentMethod | String | - | æ±ºæ¸ˆæ–¹æ³• |
| paymentIntentId | String | - | Stripe PaymentIntent ID |
| trackingNumber | String | - | é…é€è¿½è·¡ç•ªå· |
| locale | String | - | è¨€èªè¨­å®š |
| createdAt | String | - | ä½œæˆæ—¥æ™‚ |
| updatedAt | String | - | æ›´æ–°æ—¥æ™‚ |
| GSI1PK | String | GSI1PK | `USER#{userId}` |
| GSI1SK | String | GSI1SK | `ORDER#{createdAt}` |
| GSI2PK | String | GSI2PK | `STATUS#{status}` |
| GSI2SK | String | GSI2SK | `ORDER#{createdAt}#{orderId}` |

**æ³¨æ–‡ã‚¢ã‚¤ãƒ†ãƒ æ§‹é€ **:
```json
{
  "productId": "string",
  "sku": "string",
  "name": { "ja": "string", "en": "string", "ko": "string" },
  "quantity": 0,
  "unitPrice": 0,
  "totalPrice": 0
}
```

**é…é€å…ˆä½æ‰€æ§‹é€ **:
```json
{
  "id": "string",
  "name": "string",
  "postalCode": "string",
  "country": "string",
  "prefecture": "string",
  "city": "string",
  "address1": "string",
  "address2": "string",
  "phone": "string",
  "isDefault": false
}
```

**ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³**:
- æ³¨æ–‡IDå–å¾—: `PK = ORDER#{orderId}, SK = DETAIL`
- ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ³¨æ–‡å±¥æ­´: `GSI1PK = USER#{userId}` (æ–°ç€é †)
- ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥æ³¨æ–‡: `GSI2PK = STATUS#{status}` (æ—¥ä»˜é †)

---

## æ³¨æ–‡ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹å®šç¾© ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ï¼ˆæ±ºæ¸ˆæ–¹æ³•ï¼‰ã‚ˆã‚Š*

| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ | èª¬æ˜ | é·ç§»å…ƒ |
|-----------|------|--------|
| `pending` | æ³¨æ–‡ä½œæˆç›´å¾Œ | - |
| `pending_payment` | éŠ€è¡ŒæŒ¯è¾¼/ä»£å¼•ãå¾…ã¡ | pending |
| `confirmed` | æ±ºæ¸ˆå®Œäº† | pending, pending_payment |
| `processing` | ç™ºé€æº–å‚™ä¸­ | confirmed |
| `shipped` | ç™ºé€æ¸ˆã¿ | processing |
| `delivered` | é…é”å®Œäº† | shipped |
| `cancelled` | ã‚­ãƒ£ãƒ³ã‚»ãƒ« | pending, pending_payment |

---

## æ±ºæ¸ˆæ–¹æ³•å®šç¾© ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ã‚ˆã‚Š*

| æ±ºæ¸ˆæ–¹æ³• | ã‚³ãƒ¼ãƒ‰ | èª¬æ˜ |
|---------|--------|------|
| ã‚¯ãƒ¬ã‚¸ãƒƒãƒˆã‚«ãƒ¼ãƒ‰ | `credit_card` | Stripeæ±ºæ¸ˆ |
| ä»£å¼•ã | `cod` | ä»£é‡‘å¼•æ› |
| éŠ€è¡ŒæŒ¯è¾¼ | `bank_transfer` | éŠ€è¡ŒæŒ¯è¾¼ |
| ã‚³ãƒ³ãƒ“ãƒ‹æ±ºæ¸ˆ | `konbini` | Stripe Konbini |

---

## ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£è¨­è¨ˆ ğŸŸ¡

**ä¿¡é ¼æ€§**: ğŸŸ¡ *ãƒ¦ãƒ¼ã‚¶ãƒ’ã‚¢ãƒªãƒ³ã‚°ï¼ˆä¸­è¦æ¨¡ï¼‰ã‹ã‚‰æ¨æ¸¬*

### ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£

ä¸­è¦æ¨¡ã‚µã‚¤ãƒˆï¼ˆå•†å“100-1000ä»¶ã€åŒæ™‚ã‚¢ã‚¯ã‚»ã‚¹100-1000äººï¼‰ã®ãŸã‚ã€ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ã‚­ãƒ£ãƒ‘ã‚·ãƒ†ã‚£ãƒ¢ãƒ¼ãƒ‰ã‚’æ¨å¥¨ã€‚

### äºˆæƒ³ã‚¹ãƒ«ãƒ¼ãƒ—ãƒƒãƒˆï¼ˆå‚è€ƒï¼‰

| ãƒ†ãƒ¼ãƒ–ãƒ« | èª­ã¿å–ã‚Š (RCU) | æ›¸ãè¾¼ã¿ (WCU) | å‚™è€ƒ |
|---------|---------------|---------------|------|
| ãƒ¡ã‚¤ãƒ³ | 100-500 | 10-50 | èª­ã¿å–ã‚Šãƒ¡ã‚¤ãƒ³ |
| GSI1 | 100-300 | - | ã‚«ãƒ†ã‚´ãƒªæ¤œç´¢ |
| GSI2 | 50-100 | - | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ¤œç´¢ |

---

## TTLè¨­å®š ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ã‚²ã‚¹ãƒˆã‚«ãƒ¼ãƒˆæ©Ÿèƒ½ã‚ˆã‚Š*

| ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ | TTL | èª¬æ˜ |
|-------------|-----|------|
| ã‚²ã‚¹ãƒˆã‚«ãƒ¼ãƒˆ | 7æ—¥ | éä¼šå“¡ã‚«ãƒ¼ãƒˆã®è‡ªå‹•å‰Šé™¤ |

---

## ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ—è¨­å®š ğŸŸ¡

**ä¿¡é ¼æ€§**: ğŸŸ¡ *ä¸€èˆ¬çš„ãªãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‹ã‚‰æ¨æ¸¬*

| é …ç›® | è¨­å®š |
|------|------|
| ãƒã‚¤ãƒ³ãƒˆã‚¤ãƒ³ã‚¿ã‚¤ãƒ ãƒªã‚«ãƒãƒª | æœ‰åŠ¹ |
| ã‚ªãƒ³ãƒ‡ãƒãƒ³ãƒ‰ãƒãƒƒã‚¯ã‚¢ãƒƒãƒ— | é€±æ¬¡ |
| ãƒªãƒ†ãƒ³ã‚·ãƒ§ãƒ³ | 35æ—¥ |

---

## æš—å·åŒ–è¨­å®š ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *CDK Nagè¦ä»¶ã‚ˆã‚Š*

| é …ç›® | è¨­å®š |
|------|------|
| ä¿å­˜æ™‚æš—å·åŒ– | AWSç®¡ç†ã‚­ãƒ¼ (aws/dynamodb) |
| è»¢é€æ™‚æš—å·åŒ– | TLS |

---

## ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹è¨­è¨ˆè©³ç´°

### GSI1: æ±ç”¨æ¤œç´¢ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ˆã‚Š*

| ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ | GSI1PK | GSI1SK | ç”¨é€” |
|-------------|--------|--------|------|
| User | `EMAIL#{email}` | `USER` | ãƒ¡ãƒ¼ãƒ«ã§ãƒ¦ãƒ¼ã‚¶ãƒ¼æ¤œç´¢ |
| Category | `CATEGORIES` | `ORDER#{order}#{id}` | ã‚«ãƒ†ã‚´ãƒªä¸€è¦§ |
| Product | `CATEGORY#{categoryId}` | `PRODUCT#{createdAt}#{id}` | ã‚«ãƒ†ã‚´ãƒªåˆ¥å•†å“ |
| Cart | `USER#{userId}` or `GUEST#{guestId}` | `CART` | ãƒ¦ãƒ¼ã‚¶ãƒ¼/ã‚²ã‚¹ãƒˆã®ã‚«ãƒ¼ãƒˆ |
| Order | `USER#{userId}` | `ORDER#{createdAt}` | ãƒ¦ãƒ¼ã‚¶ãƒ¼ã®æ³¨æ–‡å±¥æ­´ |

### GSI2: ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ãƒ»ä¾¡æ ¼ã‚¤ãƒ³ãƒ‡ãƒƒã‚¯ã‚¹ ğŸ”µ

**ä¿¡é ¼æ€§**: ğŸ”µ *ã‚¢ã‚¯ã‚»ã‚¹ãƒ‘ã‚¿ãƒ¼ãƒ³ã‚ˆã‚Š*

| ã‚¨ãƒ³ãƒ†ã‚£ãƒ†ã‚£ | GSI2PK | GSI2SK | ç”¨é€” |
|-------------|--------|--------|------|
| Product | `PRODUCTS#ACTIVE` | `PRICE#{price}#{id}` | ä¾¡æ ¼é †å•†å“ä¸€è¦§ |
| Order | `STATUS#{status}` | `ORDER#{createdAt}#{id}` | ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹åˆ¥æ³¨æ–‡ |

---

## ãƒ‡ãƒ¼ã‚¿æ•´åˆæ€§ ğŸŸ¡

**ä¿¡é ¼æ€§**: ğŸŸ¡ *DynamoDBãƒ™ã‚¹ãƒˆãƒ—ãƒ©ã‚¯ãƒ†ã‚£ã‚¹ã‹ã‚‰æ¨æ¸¬*

### ãƒˆãƒ©ãƒ³ã‚¶ã‚¯ã‚·ãƒ§ãƒ³ä½¿ç”¨ç®‡æ‰€

| æ“ä½œ | å¯¾è±¡ | ç†ç”± |
|------|------|------|
| æ³¨æ–‡ç¢ºå®š | Orders, Products(åœ¨åº«), Carts | åœ¨åº«æ¸›ç®—ãƒ»ã‚«ãƒ¼ãƒˆå‰Šé™¤ã®æ•´åˆæ€§ |
| åœ¨åº«æ›´æ–° | Products | åŒæ™‚æ›´æ–°ã®æ•´åˆæ€§ |

### æ¡ä»¶ä»˜ãæ›´æ–°

| æ“ä½œ | æ¡ä»¶ | ç›®çš„ |
|------|------|------|
| ã‚«ãƒ¼ãƒˆè¿½åŠ  | å•†å“å­˜åœ¨ãƒ»åœ¨åº«ç¢ºèª | å­˜åœ¨ã—ãªã„å•†å“è¿½åŠ é˜²æ­¢ |
| æ³¨æ–‡ä½œæˆ | åœ¨åº«æ•° >= æ³¨æ–‡æ•° | åœ¨åº«ä¸è¶³æ³¨æ–‡é˜²æ­¢ |
| ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹æ›´æ–° | ç¾åœ¨ã‚¹ãƒ†ãƒ¼ã‚¿ã‚¹ç¢ºèª | ä¸æ­£ãªçŠ¶æ…‹é·ç§»é˜²æ­¢ |

---

## é–¢é€£æ–‡æ›¸

- **ã‚¢ãƒ¼ã‚­ãƒ†ã‚¯ãƒãƒ£**: [architecture.md](architecture.md)
- **å‹å®šç¾©**: [interfaces.ts](interfaces.ts)
- **ãƒ‡ãƒ¼ã‚¿ãƒ•ãƒ­ãƒ¼**: [dataflow.md](dataflow.md)
- **APIä»•æ§˜**: [api-endpoints.md](api-endpoints.md)

---

## ä¿¡é ¼æ€§ãƒ¬ãƒ™ãƒ«ã‚µãƒãƒªãƒ¼

- ğŸ”µ é’ä¿¡å·: 18ä»¶ (86%)
- ğŸŸ¡ é»„ä¿¡å·: 3ä»¶ (14%)
- ğŸ”´ èµ¤ä¿¡å·: 0ä»¶ (0%)

**å“è³ªè©•ä¾¡**: é«˜å“è³ª
